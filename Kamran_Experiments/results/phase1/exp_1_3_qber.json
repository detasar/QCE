{
  "experiment": "exp_1_3_qber",
  "timestamp": "2025-12-07T02:41:14.464251",
  "tests": [
    {
      "name": "ideal_v1.0",
      "results": {
        "params": {
          "visibility": 1.0,
          "n_pairs": 10000,
          "sample_fraction": 0.15,
          "confidence": 0.95,
          "seed": 42
        },
        "sifting": {
          "n_sifted": 4620,
          "sifting_rate": 0.5112316034082107
        },
        "expected_qber": 0.0,
        "qber_estimate": {
          "qber": 0.0,
          "ci_lower": 0,
          "ci_upper": 0.0055126726058969755,
          "ci_width": 0.0027563363029484878,
          "n_sample": 693,
          "n_errors": 0,
          "confidence": 0.95,
          "remaining_bits": 3927
        },
        "qber_in_ci": "True",
        "security_checks": {
          "bb84": {
            "protocol": "bb84",
            "threshold": 0.11,
            "qber": 0.0,
            "qber_upper_bound": 0.0055126726058969755,
            "is_secure": "True",
            "margin": 0.10448732739410302,
            "margin_percent": 94.98847944918455,
            "recommendation": "PROCEED"
          },
          "e91": {
            "protocol": "e91",
            "threshold": 0.11,
            "qber": 0.0,
            "qber_upper_bound": 0.0055126726058969755,
            "is_secure": "True",
            "margin": 0.10448732739410302,
            "margin_percent": 94.98847944918455,
            "recommendation": "PROCEED"
          },
          "device_independent": {
            "protocol": "device_independent",
            "threshold": 0.071,
            "qber": 0.0,
            "qber_upper_bound": 0.0055126726058969755,
            "is_secure": "True",
            "margin": 0.06548732739410301,
            "margin_percent": 92.23567238606059,
            "recommendation": "PROCEED"
          },
          "practical": {
            "protocol": "practical",
            "threshold": 0.08,
            "qber": 0.0,
            "qber_upper_bound": 0.0055126726058969755,
            "is_secure": "True",
            "margin": 0.07448732739410302,
            "margin_percent": 93.10915924262876,
            "recommendation": "PROCEED"
          }
        },
        "secrecy_capacity": {
          "bb84": 1.0,
          "device_independent": 0.0,
          "chsh_value": 2.886104413398577
        },
        "key_bits_remaining": 3927
      },
      "validation": {
        "passed": true,
        "checks": [
          {
            "name": "qber_in_confidence_interval",
            "expected": "0.00% in CI",
            "actual": "0.00% [0.00%, 0.55%]",
            "passed": "True"
          },
          {
            "name": "qber_accuracy",
            "expected": "0.00% +/- 3%",
            "actual": "0.00%",
            "passed": true
          },
          {
            "name": "security_determination",
            "expected": "SECURE for E91",
            "actual": "SECURE",
            "passed": "True"
          },
          {
            "name": "positive_secrecy_capacity",
            "expected": "r > 0",
            "actual": "r = 1.0000",
            "passed": true
          }
        ]
      }
    },
    {
      "name": "low_noise_v0.96",
      "results": {
        "params": {
          "visibility": 0.96,
          "n_pairs": 10000,
          "sample_fraction": 0.15,
          "confidence": 0.95,
          "seed": 43
        },
        "sifting": {
          "n_sifted": 4421,
          "sifting_rate": 0.49089495891627805
        },
        "expected_qber": 0.020000000000000018,
        "qber_estimate": {
          "qber": 0.021116138763197588,
          "ci_lower": 0.012619389585774772,
          "ci_upper": 0.03513027924406312,
          "ci_width": 0.011255444829144172,
          "n_sample": 663,
          "n_errors": 14,
          "confidence": 0.95,
          "remaining_bits": 3758
        },
        "qber_in_ci": "True",
        "security_checks": {
          "bb84": {
            "protocol": "bb84",
            "threshold": 0.11,
            "qber": 0.021116138763197588,
            "qber_upper_bound": 0.03513027924406312,
            "is_secure": "True",
            "margin": 0.07486972075593688,
            "margin_percent": 68.06338250539717,
            "recommendation": "PROCEED"
          },
          "e91": {
            "protocol": "e91",
            "threshold": 0.11,
            "qber": 0.021116138763197588,
            "qber_upper_bound": 0.03513027924406312,
            "is_secure": "True",
            "margin": 0.07486972075593688,
            "margin_percent": 68.06338250539717,
            "recommendation": "PROCEED"
          },
          "device_independent": {
            "protocol": "device_independent",
            "threshold": 0.071,
            "qber": 0.021116138763197588,
            "qber_upper_bound": 0.03513027924406312,
            "is_secure": "True",
            "margin": 0.035869720755936876,
            "margin_percent": 50.52073345906603,
            "recommendation": "PROCEED"
          },
          "practical": {
            "protocol": "practical",
            "threshold": 0.08,
            "qber": 0.021116138763197588,
            "qber_upper_bound": 0.03513027924406312,
            "is_secure": "True",
            "margin": 0.044869720755936884,
            "margin_percent": 56.087150944921106,
            "recommendation": "PROCEED"
          }
        },
        "secrecy_capacity": {
          "bb84": 0.7046753954316791,
          "device_independent": 0.0,
          "chsh_value": 2.8386695517782066
        },
        "key_bits_remaining": 3758
      },
      "validation": {
        "passed": "True",
        "checks": [
          {
            "name": "qber_in_confidence_interval",
            "expected": "2.00% in CI",
            "actual": "2.11% [1.26%, 3.51%]",
            "passed": "True"
          },
          {
            "name": "qber_accuracy",
            "expected": "2.00% +/- 3%",
            "actual": "2.11%",
            "passed": true
          },
          {
            "name": "security_determination",
            "expected": "SECURE for E91",
            "actual": "SECURE",
            "passed": "True"
          },
          {
            "name": "positive_secrecy_capacity",
            "expected": "r > 0",
            "actual": "r = 0.7047",
            "passed": "True"
          }
        ]
      }
    },
    {
      "name": "moderate_noise_v0.90",
      "results": {
        "params": {
          "visibility": 0.9,
          "n_pairs": 10000,
          "sample_fraction": 0.15,
          "confidence": 0.95,
          "seed": 44
        },
        "sifting": {
          "n_sifted": 4491,
          "sifting_rate": 0.49938841321027466
        },
        "expected_qber": 0.04999999999999999,
        "qber_estimate": {
          "qber": 0.04457652303120357,
          "ci_lower": 0.03140058535082686,
          "ci_upper": 0.06292203331962123,
          "ci_width": 0.015760723984397183,
          "n_sample": 673,
          "n_errors": 30,
          "confidence": 0.95,
          "remaining_bits": 3818
        },
        "qber_in_ci": "True",
        "security_checks": {
          "bb84": {
            "protocol": "bb84",
            "threshold": 0.11,
            "qber": 0.04457652303120357,
            "qber_upper_bound": 0.06292203331962123,
            "is_secure": "True",
            "margin": 0.047077966680378766,
            "margin_percent": 42.79815152761706,
            "recommendation": "PROCEED"
          },
          "e91": {
            "protocol": "e91",
            "threshold": 0.11,
            "qber": 0.04457652303120357,
            "qber_upper_bound": 0.06292203331962123,
            "is_secure": "True",
            "margin": 0.047077966680378766,
            "margin_percent": 42.79815152761706,
            "recommendation": "PROCEED"
          },
          "device_independent": {
            "protocol": "device_independent",
            "threshold": 0.071,
            "qber": 0.04457652303120357,
            "qber_upper_bound": 0.06292203331962123,
            "is_secure": "True",
            "margin": 0.00807796668037876,
            "margin_percent": 11.377417859688393,
            "recommendation": "PROCEED"
          },
          "practical": {
            "protocol": "practical",
            "threshold": 0.08,
            "qber": 0.04457652303120357,
            "qber_upper_bound": 0.06292203331962123,
            "is_secure": "True",
            "margin": 0.017077966680378767,
            "margin_percent": 21.347458350473456,
            "recommendation": "PROCEED"
          }
        },
        "secrecy_capacity": {
          "bb84": 0.47420892323144814,
          "device_independent": 0.47644095740896075,
          "chsh_value": 2.516920958389884
        },
        "key_bits_remaining": 3818
      },
      "validation": {
        "passed": "True",
        "checks": [
          {
            "name": "qber_in_confidence_interval",
            "expected": "5.00% in CI",
            "actual": "4.46% [3.14%, 6.29%]",
            "passed": "True"
          },
          {
            "name": "qber_accuracy",
            "expected": "5.00% +/- 3%",
            "actual": "4.46%",
            "passed": true
          },
          {
            "name": "security_determination",
            "expected": "SECURE for E91",
            "actual": "SECURE",
            "passed": "True"
          },
          {
            "name": "positive_secrecy_capacity",
            "expected": "r > 0",
            "actual": "r = 0.4742",
            "passed": "True"
          }
        ]
      }
    },
    {
      "name": "high_noise_v0.80",
      "results": {
        "params": {
          "visibility": 0.8,
          "n_pairs": 10000,
          "sample_fraction": 0.15,
          "confidence": 0.95,
          "seed": 45
        },
        "sifting": {
          "n_sifted": 4461,
          "sifting_rate": 0.49298265001657643
        },
        "expected_qber": 0.09999999999999998,
        "qber_estimate": {
          "qber": 0.10762331838565023,
          "ci_lower": 0.08634026370575242,
          "ci_upper": 0.1333867713669964,
          "ci_width": 0.023523253830621985,
          "n_sample": 669,
          "n_errors": 72,
          "confidence": 0.95,
          "remaining_bits": 3792
        },
        "qber_in_ci": "True",
        "security_checks": {
          "bb84": {
            "protocol": "bb84",
            "threshold": 0.11,
            "qber": 0.10762331838565023,
            "qber_upper_bound": 0.1333867713669964,
            "is_secure": "False",
            "margin": -0.023386771366996392,
            "margin_percent": -21.260701242723993,
            "recommendation": "ABORT"
          },
          "e91": {
            "protocol": "e91",
            "threshold": 0.11,
            "qber": 0.10762331838565023,
            "qber_upper_bound": 0.1333867713669964,
            "is_secure": "False",
            "margin": -0.023386771366996392,
            "margin_percent": -21.260701242723993,
            "recommendation": "ABORT"
          },
          "device_independent": {
            "protocol": "device_independent",
            "threshold": 0.071,
            "qber": 0.10762331838565023,
            "qber_upper_bound": 0.1333867713669964,
            "is_secure": "False",
            "margin": -0.0623867713669964,
            "margin_percent": -87.86869206619212,
            "recommendation": "ABORT"
          },
          "practical": {
            "protocol": "practical",
            "threshold": 0.08,
            "qber": 0.10762331838565023,
            "qber_upper_bound": 0.1333867713669964,
            "is_secure": "False",
            "margin": -0.05338677136699639,
            "margin_percent": -66.73346420874549,
            "recommendation": "ABORT"
          }
        },
        "secrecy_capacity": {
          "bb84": 0.01458943339251939,
          "device_independent": 0.24954160888876298,
          "chsh_value": 2.3025879817384314
        },
        "key_bits_remaining": 3792
      },
      "validation": {
        "passed": "False",
        "checks": [
          {
            "name": "qber_in_confidence_interval",
            "expected": "10.00% in CI",
            "actual": "10.76% [8.63%, 13.34%]",
            "passed": "True"
          },
          {
            "name": "qber_accuracy",
            "expected": "10.00% +/- 3%",
            "actual": "10.76%",
            "passed": true
          },
          {
            "name": "security_determination",
            "expected": "SECURE for E91",
            "actual": "ABORT",
            "passed": "False"
          }
        ]
      }
    },
    {
      "name": "near_threshold_v0.78",
      "results": {
        "params": {
          "visibility": 0.78,
          "n_pairs": 10000,
          "sample_fraction": 0.15,
          "confidence": 0.95,
          "seed": 46
        },
        "sifting": {
          "n_sifted": 4474,
          "sifting_rate": 0.4981073257626364
        },
        "expected_qber": 0.10999999999999999,
        "qber_estimate": {
          "qber": 0.09388971684053651,
          "ci_lower": 0.074074077946129,
          "ci_upper": 0.11832882961618352,
          "ci_width": 0.022127375835027253,
          "n_sample": 671,
          "n_errors": 63,
          "confidence": 0.95,
          "remaining_bits": 3803
        },
        "qber_in_ci": "True",
        "security_checks": {
          "bb84": {
            "protocol": "bb84",
            "threshold": 0.11,
            "qber": 0.09388971684053651,
            "qber_upper_bound": 0.11832882961618352,
            "is_secure": "False",
            "margin": -0.008328829616183517,
            "margin_percent": -7.571663287439561,
            "recommendation": "ABORT"
          },
          "e91": {
            "protocol": "e91",
            "threshold": 0.11,
            "qber": 0.09388971684053651,
            "qber_upper_bound": 0.11832882961618352,
            "is_secure": "False",
            "margin": -0.008328829616183517,
            "margin_percent": -7.571663287439561,
            "recommendation": "ABORT"
          },
          "device_independent": {
            "protocol": "device_independent",
            "threshold": 0.071,
            "qber": 0.09388971684053651,
            "qber_upper_bound": 0.11832882961618352,
            "is_secure": "False",
            "margin": -0.047328829616183524,
            "margin_percent": -66.66032340307538,
            "recommendation": "ABORT"
          },
          "practical": {
            "protocol": "practical",
            "threshold": 0.08,
            "qber": 0.09388971684053651,
            "qber_upper_bound": 0.11832882961618352,
            "is_secure": "False",
            "margin": -0.038328829616183516,
            "margin_percent": -47.911037020229394,
            "recommendation": "ABORT"
          }
        },
        "secrecy_capacity": {
          "bb84": 0.10135676227681545,
          "device_independent": 0.15076371861108373,
          "chsh_value": 2.19236330879979
        },
        "key_bits_remaining": 3803
      },
      "validation": {
        "passed": true,
        "checks": [
          {
            "name": "qber_in_confidence_interval",
            "expected": "11.00% in CI",
            "actual": "9.39% [7.41%, 11.83%]",
            "passed": "True"
          },
          {
            "name": "qber_accuracy",
            "expected": "11.00% +/- 3%",
            "actual": "9.39%",
            "passed": true
          }
        ]
      }
    }
  ],
  "sample_size_requirements": {
    "p1_c99": 26492,
    "p2_c95": 4612,
    "p5_c90": 600,
    "p3_c99": 2944
  },
  "summary": {
    "tests_run": 5,
    "tests_passed": 4,
    "overall_passed": "False"
  }
}