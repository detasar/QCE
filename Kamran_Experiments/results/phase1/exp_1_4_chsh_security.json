{
  "experiment": "exp_1_4_chsh_security",
  "timestamp": "2025-12-07T02:43:46.207790",
  "tests": [
    {
      "name": "ideal_v1.0",
      "results": {
        "params": {
          "visibility": 1.0,
          "n_pairs": 20000,
          "security_fraction": 0.1,
          "seed": 42
        },
        "n_security_samples": 1951,
        "expected_S": 2.8284271247461903,
        "chsh": {
          "S": 2.8795710078734302,
          "S_std": 0.06290585879874776,
          "correlators": {
            "(0, 0)": 0.7463617463617463,
            "(0, 1)": -0.7148362235067437,
            "(1, 0)": 0.6883116883116883,
            "(1, 1)": 0.7300613496932515
          },
          "correlator_stds": {
            "(0, 0)": 0.030346034260827943,
            "(0, 1)": 0.030695507932753666,
            "(1, 0)": 0.033749363301145585,
            "(1, 1)": 0.030903584668549245
          },
          "counts": {
            "(0, 0)": 481,
            "(0, 1)": 519,
            "(1, 0)": 462,
            "(1, 1)": 489
          },
          "total_samples": 1951,
          "violation": true,
          "sigma_violation": 13.98233844461781
        },
        "statistics": {
          "z_score": 13.98233844461781,
          "p_value": 0.0,
          "ci_95_lower": 2.7562755246278847,
          "ci_95_upper": 3.0028664911189757,
          "excludes_classical": "True",
          "tsirelson_efficiency": 1.018082093287742
        },
        "security_bounds": {
          "violation": true,
          "min_entropy": 1.0,
          "guessing_probability": 0.5,
          "key_rate_bound": 1.0,
          "security_margin": 0.8795710078734302,
          "security_margin_percent": 106.17361281391035,
          "S": 2.8795710078734302,
          "S_max": 2.8284271247461903,
          "S_classical": 2.0
        },
        "eve_bounds": {
          "eve_info_upper": 0.0,
          "eve_info_lower": 0.0,
          "secure": true,
          "S_normalized": 1.0
        }
      },
      "validation": {
        "passed": true,
        "checks": [
          {
            "name": "chsh_accuracy",
            "expected": "S \u2248 2.828",
            "actual": "S = 2.880",
            "passed": "True"
          },
          {
            "name": "bell_violation",
            "expected": "S > 2",
            "actual": "S = 2.880 (violated)",
            "passed": true
          },
          {
            "name": "statistical_significance",
            "expected": "> 3 sigma",
            "actual": "14.0 sigma",
            "passed": "True"
          },
          {
            "name": "ci_excludes_classical",
            "expected": "CI_lower > 2",
            "actual": "[2.756, 3.003]",
            "passed": "True"
          },
          {
            "name": "positive_security_margin",
            "expected": "margin > 0",
            "actual": "margin = 0.880",
            "passed": true
          }
        ]
      }
    },
    {
      "name": "high_v0.95",
      "results": {
        "params": {
          "visibility": 0.95,
          "n_pairs": 20000,
          "security_fraction": 0.1,
          "seed": 43
        },
        "n_security_samples": 1977,
        "expected_S": 2.6870057685088806,
        "chsh": {
          "S": 2.748107281212862,
          "S_std": 0.06528653836914279,
          "correlators": {
            "(0, 0)": 0.7115009746588694,
            "(0, 1)": -0.6618556701030928,
            "(1, 0)": 0.746938775510204,
            "(1, 1)": 0.6278118609406953
          },
          "correlator_stds": {
            "(0, 0)": 0.031024305477002512,
            "(0, 1)": 0.03403900346077802,
            "(1, 0)": 0.03003679599340826,
            "(1, 1)": 0.03519888764922411
          },
          "counts": {
            "(0, 0)": 513,
            "(0, 1)": 485,
            "(1, 0)": 490,
            "(1, 1)": 489
          },
          "total_samples": 1977,
          "violation": true,
          "sigma_violation": 11.458829031230264
        },
        "statistics": {
          "z_score": 11.458829031230264,
          "p_value": 0.0,
          "ci_95_lower": 2.6201456660093423,
          "ci_95_upper": 2.8760688964163816,
          "excludes_classical": "True",
          "tsirelson_efficiency": 0.9716026469868705
        },
        "security_bounds": {
          "violation": true,
          "min_entropy": 0.5835612020080418,
          "guessing_probability": 0.6673145187485332,
          "key_rate_bound": 0.5835612020080418,
          "security_margin": 0.748107281212862,
          "security_margin_percent": 90.30453722070769,
          "S": 2.748107281212862,
          "S_max": 2.8284271247461903,
          "S_classical": 2.0
        },
        "eve_bounds": {
          "eve_info_upper": 0.04847731389646154,
          "eve_info_lower": 0.0,
          "secure": "True",
          "S_normalized": 0.9030453722070769
        }
      },
      "validation": {
        "passed": true,
        "checks": [
          {
            "name": "chsh_accuracy",
            "expected": "S \u2248 2.687",
            "actual": "S = 2.748",
            "passed": "True"
          },
          {
            "name": "bell_violation",
            "expected": "S > 2",
            "actual": "S = 2.748 (violated)",
            "passed": true
          },
          {
            "name": "statistical_significance",
            "expected": "> 3 sigma",
            "actual": "11.5 sigma",
            "passed": "True"
          },
          {
            "name": "ci_excludes_classical",
            "expected": "CI_lower > 2",
            "actual": "[2.620, 2.876]",
            "passed": "True"
          },
          {
            "name": "positive_security_margin",
            "expected": "margin > 0",
            "actual": "margin = 0.748",
            "passed": true
          }
        ]
      }
    },
    {
      "name": "moderate_v0.85",
      "results": {
        "params": {
          "visibility": 0.85,
          "n_pairs": 20000,
          "security_fraction": 0.1,
          "seed": 44
        },
        "n_security_samples": 2046,
        "expected_S": 2.4041630560342617,
        "chsh": {
          "S": 2.3260210410789606,
          "S_std": 0.07194433991654266,
          "correlators": {
            "(0, 0)": 0.5529411764705883,
            "(0, 1)": -0.6007604562737643,
            "(1, 0)": 0.5888223552894212,
            "(1, 1)": 0.5834970530451866
          },
          "correlator_stds": {
            "(0, 0)": 0.03689561468610242,
            "(0, 1)": 0.03485676487243368,
            "(1, 0)": 0.0361105044379238,
            "(1, 1)": 0.035996375856858935
          },
          "counts": {
            "(0, 0)": 510,
            "(0, 1)": 526,
            "(1, 0)": 501,
            "(1, 1)": 509
          },
          "total_samples": 2046,
          "violation": true,
          "sigma_violation": 4.53157317805895
        },
        "statistics": {
          "z_score": 4.53157317805895,
          "p_value": 2.9273024561016214e-06,
          "ci_95_lower": 2.185010134842537,
          "ci_95_upper": 2.4670319473153843,
          "excludes_classical": "True",
          "tsirelson_efficiency": 0.822372625664763
        },
        "security_bounds": {
          "violation": true,
          "min_entropy": 0.14830830587532784,
          "guessing_probability": 0.9023078824465434,
          "key_rate_bound": 0.14830830587532784,
          "security_margin": 0.32602104107896057,
          "security_margin_percent": 39.35422094959112,
          "S": 2.3260210410789606,
          "S_max": 2.8284271247461903,
          "S_classical": 2.0
        },
        "eve_bounds": {
          "eve_info_upper": 0.30322889525204444,
          "eve_info_lower": 0.0,
          "secure": "True",
          "S_normalized": 0.3935422094959112
        }
      },
      "validation": {
        "passed": true,
        "checks": [
          {
            "name": "chsh_accuracy",
            "expected": "S \u2248 2.404",
            "actual": "S = 2.326",
            "passed": "True"
          },
          {
            "name": "bell_violation",
            "expected": "S > 2",
            "actual": "S = 2.326 (violated)",
            "passed": true
          },
          {
            "name": "statistical_significance",
            "expected": "> 3 sigma",
            "actual": "4.5 sigma",
            "passed": "True"
          },
          {
            "name": "ci_excludes_classical",
            "expected": "CI_lower > 2",
            "actual": "[2.185, 2.467]",
            "passed": "True"
          },
          {
            "name": "positive_security_margin",
            "expected": "margin > 0",
            "actual": "margin = 0.326",
            "passed": true
          }
        ]
      }
    },
    {
      "name": "near_threshold_v0.75",
      "results": {
        "params": {
          "visibility": 0.75,
          "n_pairs": 20000,
          "security_fraction": 0.1,
          "seed": 45
        },
        "n_security_samples": 2023,
        "expected_S": 2.121320343559643,
        "chsh": {
          "S": 2.1854651935388683,
          "S_std": 0.07445650632495067,
          "correlators": {
            "(0, 0)": 0.5669291338582677,
            "(0, 1)": -0.53125,
            "(1, 0)": 0.5187376725838264,
            "(1, 1)": 0.5685483870967742
          },
          "correlator_stds": {
            "(0, 0)": 0.03654873128076664,
            "(0, 1)": 0.037441971704454714,
            "(1, 0)": 0.037968928100088034,
            "(1, 1)": 0.03693806748730756
          },
          "counts": {
            "(0, 0)": 508,
            "(0, 1)": 512,
            "(1, 0)": 507,
            "(1, 1)": 496
          },
          "total_samples": 2023,
          "violation": true,
          "sigma_violation": 2.490919903351927
        },
        "statistics": {
          "z_score": 2.490919903351927,
          "p_value": 0.006370641980806835,
          "ci_95_lower": 2.039530441141965,
          "ci_95_upper": 2.3313999459357717,
          "excludes_classical": "True",
          "tsirelson_efficiency": 0.7726786291992521
        },
        "security_bounds": {
          "violation": true,
          "min_entropy": 0.07571834317788247,
          "guessing_probability": 0.9488695445108548,
          "key_rate_bound": 0.07571834317788251,
          "security_margin": 0.18546519353886826,
          "security_margin_percent": 22.38762927948433,
          "S": 2.1854651935388683,
          "S_max": 2.8284271247461903,
          "S_classical": 2.0
        },
        "eve_bounds": {
          "eve_info_upper": 0.3880618536025784,
          "eve_info_lower": 0.0,
          "secure": "True",
          "S_normalized": 0.22387629279484328
        }
      },
      "validation": {
        "passed": true,
        "checks": [
          {
            "name": "chsh_accuracy",
            "expected": "S \u2248 2.121",
            "actual": "S = 2.185",
            "passed": "True"
          },
          {
            "name": "bell_violation",
            "expected": "S > 2",
            "actual": "S = 2.185 (violated)",
            "passed": true
          },
          {
            "name": "positive_security_margin",
            "expected": "margin > 0",
            "actual": "margin = 0.185",
            "passed": true
          }
        ]
      }
    },
    {
      "name": "below_threshold_v0.70",
      "results": {
        "params": {
          "visibility": 0.7,
          "n_pairs": 20000,
          "security_fraction": 0.1,
          "seed": 46
        },
        "n_security_samples": 2009,
        "expected_S": 1.9798989873223332,
        "chsh": {
          "S": 1.9788737513245191,
          "S_std": 0.07747641937050148,
          "correlators": {
            "(0, 0)": 0.46322067594433397,
            "(0, 1)": -0.5510204081632653,
            "(1, 0)": 0.4990138067061144,
            "(1, 1)": 0.4656188605108055
          },
          "correlator_stds": {
            "(0, 0)": 0.03951562102416959,
            "(0, 1)": 0.037698495335847494,
            "(1, 0)": 0.038486792240403224,
            "(1, 1)": 0.039226286161261115
          },
          "counts": {
            "(0, 0)": 503,
            "(0, 1)": 490,
            "(1, 0)": 507,
            "(1, 1)": 509
          },
          "total_samples": 2009,
          "violation": false,
          "sigma_violation": -0.27267972432299187
        },
        "statistics": {
          "z_score": -0.27267972432299187,
          "p_value": 0.6074502890431672,
          "ci_95_lower": 1.8270199693583362,
          "ci_95_upper": 2.130727533290702,
          "excludes_classical": "False",
          "tsirelson_efficiency": 0.6996375243368146
        },
        "security_bounds": {
          "violation": false,
          "min_entropy": 0,
          "guessing_probability": 1.0,
          "key_rate_bound": 0,
          "security_margin": 0
        },
        "eve_bounds": {
          "eve_info_upper": 1.0,
          "eve_info_lower": 0.5,
          "secure": false
        }
      },
      "validation": {
        "passed": "True",
        "checks": [
          {
            "name": "chsh_accuracy",
            "expected": "S \u2248 1.980",
            "actual": "S = 1.979",
            "passed": "True"
          }
        ]
      }
    }
  ],
  "summary": {
    "tests_run": 5,
    "tests_passed": 5,
    "overall_passed": "True"
  }
}